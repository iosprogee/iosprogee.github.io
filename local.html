<!doctype html>
<!-- 
	to run
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --args --disable-web-security --user-data-dir="/Users/artee/github.io/iosprogee/temp"

-->
<html>
<head>
  <meta charset="utf-8"/>
  <title>Marked in the browser</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:100,300,400,&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <style type="text/css">
  	*{font-weight: 100;}
  	body{font-family: 'Roboto', sans-serif; }
  	div{ border:1px solid blue; margin-bottom:1vh; padding: 1em;	}
  	code{ background:gray; padding:.8em;}
  	strong{font-weight: bold;}
  </style>
</head>
<body>
  <div id="content_sd"></div>
  <div id="content_md"></div>
  <div id="content_cm"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/commonmark/0.29.1/commonmark.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script> 

  <script>
	var reader = new commonmark.Parser();
	var writer = new commonmark.HtmlRenderer();

	var converter = new showdown.Converter(),
	    text_sd   = '# hello, markdown!',
	    html_sd   = converter.makeHtml(text_sd);

	var rawFile = new XMLHttpRequest();
	rawFile.open("GET", "index.md",true);
	rawFile.onreadystatechange = function() {
	if (rawFile.readyState === 4) {
	    var text = rawFile.responseText;
	    var parsed = reader.parse(text); 
	    var html = writer.render(parsed); 
	    text_sd   = text,
	    html_sd   = converter.makeHtml(text_sd);
	    document.getElementById('content_cm').innerHTML=html;
	    //console.log(html);
	    document.getElementById('content_md').innerHTML=marked(text);
	    //document.getElementById('content_sd').innerHTML=marked(html_sd);
	  }
	}
	rawFile.send();

	htstr = " \
# CommonMark \n\n \
**Bold** and _Italic_ and  `Code`  text \
";

    document.getElementById('content_sd').innerHTML=marked(htstr);

  </script>

</body>
</html>
